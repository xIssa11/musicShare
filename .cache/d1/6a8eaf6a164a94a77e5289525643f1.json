{"id":"WQNc","dependencies":[{"name":"/Users/spittela/code/giphlify/package.json","includedInParent":true,"mtime":1599671784193},{"name":"/Users/spittela/code/giphlify/.babelrc","includedInParent":true,"mtime":1599669969128},{"name":"/Users/spittela/code/giphlify/node_modules/@aws-crypto/supports-web-crypto/package.json","includedInParent":true,"mtime":1599668813938},{"name":"tslib","loc":{"line":3,"column":22},"parent":"/Users/spittela/code/giphlify/node_modules/@aws-crypto/supports-web-crypto/build/supportsWebCrypto.js","resolved":"/Users/spittela/code/giphlify/node_modules/tslib/tslib.es6.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"tslib\"),t=[\"decrypt\",\"digest\",\"encrypt\",\"exportKey\",\"generateKey\",\"importKey\",\"sign\",\"verify\"];function r(e){return!(!n(e)||\"object\"!=typeof e.crypto.subtle)&&o(e.crypto.subtle)}function n(e){return\"object\"==typeof e&&\"object\"==typeof e.crypto&&\"function\"==typeof e.crypto.getRandomValues}function o(e){return e&&t.every(function(t){return\"function\"==typeof e[t]})}function s(t){return e.__awaiter(this,void 0,void 0,function(){var r;return e.__generator(this,function(e){switch(e.label){case 0:if(!o(t))return[2,!1];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,t.generateKey({name:\"AES-GCM\",length:128},!1,[\"encrypt\"])];case 2:return r=e.sent(),[4,t.encrypt({name:\"AES-GCM\",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},r,new Uint8Array(0))];case 3:return[2,16===e.sent().byteLength];case 4:return e.sent(),[2,!1];case 5:return[2]}})})}exports.supportsWebCrypto=r,exports.supportsSecureRandom=n,exports.supportsSubtleCrypto=o,exports.supportsZeroByteGCM=s;"},"sourceMaps":{"js":{"mappings":[{"source":"supportsWebCrypto.ts","name":null,"original":{"line":11,"column":6},"generated":{"line":1,"column":91}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":11,"column":55},"generated":{"line":1,"column":93}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":94}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":104}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":113}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":123}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":135}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":149}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":161}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":168}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":178}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":22,"column":16},"generated":{"line":1,"column":187}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":22,"column":34},"generated":{"line":1,"column":189}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":192}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":201}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":1,"column":203}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":1,"column":207}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":224}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":25,"column":18},"generated":{"line":1,"column":226}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":1,"column":233}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":1,"column":242}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":244}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":246}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":253}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":261}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":270}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":1,"column":272}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":275}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":36,"column":24},"generated":{"line":1,"column":281}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":298}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":36,"column":61},"generated":{"line":1,"column":301}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":36,"column":43},"generated":{"line":1,"column":318}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":36,"column":50},"generated":{"line":1,"column":320}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":39,"column":38},"generated":{"line":1,"column":328}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":347}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":349}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":356}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":372}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":381}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":45,"column":37},"generated":{"line":1,"column":383}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":386}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":393}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":396}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":398}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":1,"column":404}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":1,"column":413}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":416}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":49,"column":50},"generated":{"line":1,"column":422}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":1,"column":441}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":49,"column":34},"generated":{"line":1,"column":443}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":54,"column":0},"generated":{"line":1,"column":448}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":457}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":54,"column":42},"generated":{"line":1,"column":459}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":578}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":7},"generated":{"line":1,"column":582}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":28},"generated":{"line":1,"column":584}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":37},"generated":{"line":1,"column":587}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":37},"generated":{"line":1,"column":593}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":37},"generated":{"line":1,"column":594}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":55,"column":44},"generated":{"line":1,"column":597}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":617}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":646}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":647}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":22},"generated":{"line":1,"column":649}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":29},"generated":{"line":1,"column":651}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":663}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":664}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":669}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":679}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":58,"column":33},"generated":{"line":1,"column":686}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":692}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":694}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":60,"column":7},"generated":{"line":1,"column":695}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":715}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":722}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":724}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":726}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":733}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":734}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":34},"generated":{"line":1,"column":736}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":41},"generated":{"line":1,"column":738}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":746}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":747}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":1,"column":752}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":762}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":1,"column":765}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":1,"column":769}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":780}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":65,"column":33},"generated":{"line":1,"column":786}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":1,"column":791}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":66,"column":24},"generated":{"line":1,"column":806}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":66,"column":28},"generated":{"line":1,"column":810}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":66,"column":39},"generated":{"line":1,"column":821}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":66,"column":45},"generated":{"line":1,"column":827}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":832}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":67,"column":19},"generated":{"line":1,"column":842}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":1,"column":847}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":849}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":853}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":864}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":876}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":882}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":883}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":72,"column":42},"generated":{"line":1,"column":885}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":890}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":892}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":72,"column":27},"generated":{"line":1,"column":899}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":918}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":934}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":935}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":938}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":963}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":971}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":989}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":991}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":999}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":1020}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":1022}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":1030}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":1051}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":54,"column":0},"generated":{"line":1,"column":1053}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":54,"column":0},"generated":{"line":1,"column":1061}},{"source":"supportsWebCrypto.ts","name":null,"original":{"line":54,"column":0},"generated":{"line":1,"column":1081}}],"sources":{"supportsWebCrypto.ts":"type SubtleCryptoMethod =\n  | \"decrypt\"\n  | \"digest\"\n  | \"encrypt\"\n  | \"exportKey\"\n  | \"generateKey\"\n  | \"importKey\"\n  | \"sign\"\n  | \"verify\";\n\nconst subtleCryptoMethods: Array<SubtleCryptoMethod> = [\n  \"decrypt\",\n  \"digest\",\n  \"encrypt\",\n  \"exportKey\",\n  \"generateKey\",\n  \"importKey\",\n  \"sign\",\n  \"verify\"\n];\n\nexport function supportsWebCrypto(window: Window): boolean {\n  if (\n    supportsSecureRandom(window) &&\n    typeof window.crypto.subtle === \"object\"\n  ) {\n    const { subtle } = window.crypto;\n\n    return supportsSubtleCrypto(subtle);\n  }\n\n  return false;\n}\n\nexport function supportsSecureRandom(window: Window): boolean {\n  if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n    const { getRandomValues } = window.crypto;\n\n    return typeof getRandomValues === \"function\";\n  }\n\n  return false;\n}\n\nexport function supportsSubtleCrypto(subtle: SubtleCrypto) {\n  return (\n    subtle &&\n    subtleCryptoMethods.every(\n      methodName => typeof subtle[methodName] === \"function\"\n    )\n  );\n}\n\nexport async function supportsZeroByteGCM(subtle: SubtleCrypto) {\n  if (!supportsSubtleCrypto(subtle)) return false;\n  try {\n    const key = await subtle.generateKey(\n      { name: \"AES-GCM\", length: 128 },\n      false,\n      [\"encrypt\"]\n    );\n    const zeroByteAuthTag = await subtle.encrypt(\n      {\n        name: \"AES-GCM\",\n        iv: new Uint8Array(Array(12)),\n        additionalData: new Uint8Array(Array(16)),\n        tagLength: 128\n      },\n      key,\n      new Uint8Array(0)\n    );\n    return zeroByteAuthTag.byteLength === 16;\n  } catch {\n    return false;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"baad78b091ed51d736990b5f76d4413d","cacheData":{"env":{}}}