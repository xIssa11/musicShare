{"id":"node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/fromCognitoIdentity.js","dependencies":[{"name":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/fromCognitoIdentity.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/spittela/code/giphlify/package.json","includedInParent":true,"mtime":1599671784193},{"name":"/Users/spittela/code/giphlify/.babelrc","includedInParent":true,"mtime":1599669969128},{"name":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/package.json","includedInParent":true,"mtime":1599668814020},{"name":"tslib","loc":{"line":4,"column":22},"parent":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/fromCognitoIdentity.js","resolved":"/Users/spittela/code/giphlify/node_modules/tslib/tslib.es6.js"},{"name":"@aws-sdk/client-cognito-identity","loc":{"line":5,"column":40},"parent":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/fromCognitoIdentity.js","resolved":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/client-cognito-identity/dist/es/index.js"},{"name":"@aws-sdk/property-provider","loc":{"line":6,"column":34},"parent":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/fromCognitoIdentity.js","resolved":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/property-provider/dist/cjs/index.js"},{"name":"./resolveLogins","loc":{"line":7,"column":30},"parent":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/fromCognitoIdentity.js","resolved":"/Users/spittela/code/giphlify/node_modules/@aws-sdk/credential-provider-cognito-identity/dist/cjs/resolveLogins.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromCognitoIdentity = void 0;\nvar tslib_1 = require(\"tslib\");\nvar client_cognito_identity_1 = require(\"@aws-sdk/client-cognito-identity\");\nvar property_provider_1 = require(\"@aws-sdk/property-provider\");\nvar resolveLogins_1 = require(\"./resolveLogins\");\n/**\n * Retrieves temporary AWS credentials using Amazon Cognito's\n * `GetCredentialsForIdentity` operation.\n *\n * Results from this function call are not cached internally.\n */\nfunction fromCognitoIdentity(parameters) {\n    var _this = this;\n    return function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n        var _a, _b, _c, AccessKeyId, Expiration, _d, SecretKey, SessionToken, _e, _f, _g, _h, _j;\n        return tslib_1.__generator(this, function (_k) {\n            switch (_k.label) {\n                case 0:\n                    _f = (_e = parameters.client).send;\n                    _g = client_cognito_identity_1.GetCredentialsForIdentityCommand.bind;\n                    _h = {\n                        CustomRoleArn: parameters.customRoleArn,\n                        IdentityId: parameters.identityId\n                    };\n                    if (!parameters.logins) return [3 /*break*/, 2];\n                    return [4 /*yield*/, resolveLogins_1.resolveLogins(parameters.logins)];\n                case 1:\n                    _j = _k.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _j = undefined;\n                    _k.label = 3;\n                case 3: return [4 /*yield*/, _f.apply(_e, [new (_g.apply(client_cognito_identity_1.GetCredentialsForIdentityCommand, [void 0, (_h.Logins = _j,\n                                _h)]))()])];\n                case 4:\n                    _a = (_k.sent()).Credentials, _b = _a === void 0 ? throwOnMissingCredentials() : _a, _c = _b.AccessKeyId, AccessKeyId = _c === void 0 ? throwOnMissingAccessKeyId() : _c, Expiration = _b.Expiration, _d = _b.SecretKey, SecretKey = _d === void 0 ? throwOnMissingSecretKey() : _d, SessionToken = _b.SessionToken;\n                    return [2 /*return*/, {\n                            accessKeyId: AccessKeyId,\n                            secretAccessKey: SecretKey,\n                            sessionToken: SessionToken,\n                            expiration: Expiration,\n                        }];\n            }\n        });\n    }); };\n}\nexports.fromCognitoIdentity = fromCognitoIdentity;\nfunction throwOnMissingAccessKeyId() {\n    throw new property_provider_1.ProviderError(\"Response from Amazon Cognito contained no access key ID\");\n}\nfunction throwOnMissingCredentials() {\n    throw new property_provider_1.ProviderError(\"Response from Amazon Cognito contained no credentials\");\n}\nfunction throwOnMissingSecretKey() {\n    throw new property_provider_1.ProviderError(\"Response from Amazon Cognito contained no secret key\");\n}\n"},"sourceMaps":{"js":{"version":3,"file":"fromCognitoIdentity.js","sourceRoot":"","sources":["../../src/fromCognitoIdentity.ts"],"names":[],"mappings":";;;;AAAA,4EAAoF;AACpF,gEAA2D;AAI3D,iDAAgD;AAEhD;;;;;GAKG;AACH,SAAgB,mBAAmB,CAAC,UAAyC;IAA7E,iBAwBC;IAvBC,OAAO;;;;;oBAQK,KAAA,CAAA,KAAA,UAAU,CAAC,MAAM,CAAA,CAAC,IAAI,CAAA;yBAC1B,0DAAgC;;wBAClC,aAAa,EAAE,UAAU,CAAC,aAAa;wBACvC,UAAU,EAAE,UAAU,CAAC,UAAU;;yBACzB,UAAU,CAAC,MAAM,EAAjB,wBAAiB;oBAAG,qBAAM,6BAAa,CAAC,UAAU,CAAC,MAAM,CAAC,EAAA;;oBAAtC,KAAA,SAAsC,CAAA;;;oBAAG,KAAA,SAAS,CAAA;;wBAJ9E,qBAAM,cACR,cAAI,0DAAgC,YAGlC,SAAM,KAAwE;wCAC9E,EACH,EAAA;;oBAZC,KAME,CAAA,SAMH,CAAA,YAPgC,EAL/B,qBAKI,yBAAyB,EAAE,KAAA,EAJ7B,mBAAyC,EAAzC,WAAW,mBAAG,yBAAyB,EAAE,KAAA,EACzC,UAAU,gBAAA,EACV,iBAAqC,EAArC,SAAS,mBAAG,uBAAuB,EAAE,KAAA,EACrC,YAAY,kBAAA;oBAUhB,sBAAO;4BACL,WAAW,EAAE,WAAW;4BACxB,eAAe,EAAE,SAAS;4BAC1B,YAAY,EAAE,YAAY;4BAC1B,UAAU,EAAE,UAAU;yBACvB,EAAC;;;SACH,CAAC;AACJ,CAAC;AAxBD,kDAwBC;AAUD,SAAS,yBAAyB;IAChC,MAAM,IAAI,iCAAa,CAAC,yDAAyD,CAAC,CAAC;AACrF,CAAC;AAED,SAAS,yBAAyB;IAChC,MAAM,IAAI,iCAAa,CAAC,uDAAuD,CAAC,CAAC;AACnF,CAAC;AAED,SAAS,uBAAuB;IAC9B,MAAM,IAAI,iCAAa,CAAC,sDAAsD,CAAC,CAAC;AAClF,CAAC","sourcesContent":[null]}},"error":null,"hash":"81051f9b7b8cb8d2bc5279ba944615e6","cacheData":{"env":{}}}